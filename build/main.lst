ARM GAS  C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"main.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.Task4,"ax",%progbits
  18              		.align	1
  19              		.global	Task4
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	Task4:
  26              	.LFB129:
  27              		.file 1 "Src/main.c"
   1:Src/main.c    **** 
   2:Src/main.c    **** /**
   3:Src/main.c    ****   ******************************************************************************
   4:Src/main.c    ****   * @file           : main.c
   5:Src/main.c    ****   * @brief          : Main program body
   6:Src/main.c    ****   ******************************************************************************
   7:Src/main.c    ****   */
   8:Src/main.c    **** 
   9:Src/main.c    **** /* Includes ------------------------------------------------------------------*/
  10:Src/main.c    **** #include "main.h"
  11:Src/main.c    **** #include "stdint.h"
  12:Src/main.c    **** #include "init.h"
  13:Src/main.c    **** #include "Generic.h"
  14:Src/main.c    **** 
  15:Src/main.c    **** /* Private variables ---------------------------------------------------------*/
  16:Src/main.c    **** 
  17:Src/main.c    **** /* USER CODE BEGIN PV */
  18:Src/main.c    **** /* Private variables ---------------------------------------------------------*/
  19:Src/main.c    **** 
  20:Src/main.c    **** /* USER CODE END PV */
  21:Src/main.c    **** 
  22:Src/main.c    **** /* Private function prototypes -----------------------------------------------*/
  23:Src/main.c    **** 
  24:Src/main.c    **** 
  25:Src/main.c    **** Measured_value_tst __IO CO2_measurement_st;
  26:Src/main.c    **** 
  27:Src/main.c    **** u16 count_of_complete_measurements_u16 = 0;
  28:Src/main.c    **** u8 uart_new_line_u8[2] = "\r\n";
  29:Src/main.c    **** 
  30:Src/main.c    **** void Task1(void)
  31:Src/main.c    **** {
ARM GAS  C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s 			page 2


  32:Src/main.c    **** 	u8 lenght_1_u8, lenght_2_u8;
  33:Src/main.c    ****     HAL_Delay(5U);
  34:Src/main.c    **** 	HAL_UART_Receive_IT(&huart1, rx_buffer_u8, 16U);
  35:Src/main.c    **** 
  36:Src/main.c    **** 	if((rx_buffer_u8[0] == 0x47) && (rx_buffer_u8[1] == 0x54))
  37:Src/main.c    **** 		{
  38:Src/main.c    **** 		 lenght_1_u8 = rx_buffer_u8[2] - '0';
  39:Src/main.c    **** 		 lenght_2_u8 = rx_buffer_u8[3] - '0';
  40:Src/main.c    **** 		 	 if (0U != lenght_1_u8)
  41:Src/main.c    **** 			 {
  42:Src/main.c    **** 				if((rx_buffer_u8[lenght_1_u8] == 0x41) && (rx_buffer_u8[lenght_2_u8] == 0x4B))
  43:Src/main.c    **** 				{
  44:Src/main.c    **** 					data_request_u8 = STD_ON;
  45:Src/main.c    **** 					memset(rx_buffer_u8, 0, 8U);
  46:Src/main.c    **** 					SetTaskPending(Task_2);
  47:Src/main.c    **** 				}
  48:Src/main.c    **** 			 }
  49:Src/main.c    **** 			else
  50:Src/main.c    **** 			{
  51:Src/main.c    **** 				if((rx_buffer_u8[lenght_2_u8 - 2] == 0x41) && (rx_buffer_u8[lenght_2_u8 - 1] == 0x4B))
  52:Src/main.c    **** 				{
  53:Src/main.c    **** 					data_request_u8 = STD_ON;
  54:Src/main.c    **** 					memset(rx_buffer_u8, 0, 8U);
  55:Src/main.c    **** 					SetTaskPending(Task_2);
  56:Src/main.c    **** 				}
  57:Src/main.c    **** 			}
  58:Src/main.c    **** 		}
  59:Src/main.c    **** }
  60:Src/main.c    **** void Task2(void){
  61:Src/main.c    **** 	HAL_ADC_Start_IT(&hadc1);
  62:Src/main.c    **** 	HAL_Delay(DELAY_1_MS);
  63:Src/main.c    **** 	if ((co2_measurement_counter_u16 == NUMBER_OF_MEASUREMENTS) || (STD_ON == data_request_u8))
  64:Src/main.c    **** 	   {
  65:Src/main.c    **** 		  count_of_complete_measurements_u16 = co2_measurement_counter_u16;
  66:Src/main.c    **** 	      co2_measurement_counter_u16 = 0U;
  67:Src/main.c    **** 		  SetTaskPending(Task_3);
  68:Src/main.c    **** 		}
  69:Src/main.c    **** }
  70:Src/main.c    **** 
  71:Src/main.c    **** void Task3(void)
  72:Src/main.c    **** {
  73:Src/main.c    **** 	u8 uart_buffer_u8[10];
  74:Src/main.c    **** 	u8 count =0;
  75:Src/main.c    **** 	if (STD_OFF == data_request_u8)
  76:Src/main.c    **** 	{
  77:Src/main.c    **** 		calc_adc_val_u32 = (calc_adc_val_u32/NUMBER_OF_MEASUREMENTS);
  78:Src/main.c    **** 	}
  79:Src/main.c    **** 		else
  80:Src/main.c    **** 		{
  81:Src/main.c    **** 		calc_adc_val_u32 = (calc_adc_val_u32 / count_of_complete_measurements_u16);
  82:Src/main.c    **** 		data_request_u8 = STD_OFF;
  83:Src/main.c    **** 		}
  84:Src/main.c    ****     CO2_measurement_st.measured_value_u16  = (81 * calc_adc_val_u32) / 100U;
  85:Src/main.c    ****     ++CO2_measurement_st.measurmenet_counter_u16;
  86:Src/main.c    ****     calc_adc_val_u32 = 0U;
  87:Src/main.c    **** 
  88:Src/main.c    **** 	memset(uart_buffer_u8, 0, sizeof(uart_buffer_u8));
ARM GAS  C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s 			page 3


  89:Src/main.c    **** 	sprintf(uart_buffer_u8,"%d", CO2_measurement_st.measured_value_u16);
  90:Src/main.c    **** 	HAL_UART_Transmit_IT(&huart1,"CO2 V value= ", 13U);
  91:Src/main.c    **** 	while(uart_buffer_u8[count])
  92:Src/main.c    **** 		count++;
  93:Src/main.c    **** 	HAL_Delay(DELAY_5_MS);
  94:Src/main.c    **** 	HAL_UART_Transmit_IT(&huart1,uart_buffer_u8,count);
  95:Src/main.c    **** 	HAL_Delay(DELAY_1_MS);
  96:Src/main.c    **** 	HAL_UART_Transmit_IT(&huart1,uart_new_line_u8, 2U);
  97:Src/main.c    **** 
  98:Src/main.c    **** 	memset(uart_buffer_u8, 0, sizeof(uart_buffer_u8));
  99:Src/main.c    **** 	sprintf(uart_buffer_u8,"%d", CO2_measurement_st.measurmenet_counter_u16);
 100:Src/main.c    **** 	HAL_Delay(DELAY_1_MS);
 101:Src/main.c    **** 	HAL_UART_Transmit_IT(&huart1,"Counter= ", 9U);
 102:Src/main.c    **** 	count =0;
 103:Src/main.c    **** 	while(uart_buffer_u8[count])
 104:Src/main.c    **** 		count++;
 105:Src/main.c    **** 	HAL_Delay(DELAY_5_MS);
 106:Src/main.c    **** 	HAL_UART_Transmit_IT(&huart1,uart_buffer_u8, count);
 107:Src/main.c    **** 	HAL_Delay(DELAY_1_MS);
 108:Src/main.c    **** 	HAL_UART_Transmit_IT(&huart1,uart_new_line_u8, 2U);
 109:Src/main.c    **** 
 110:Src/main.c    **** /*
 111:Src/main.c    **** 	if (CO2_measurement_st.measured_value_u16 >= GREEN_AIR_LEVEL_MIN)
 112:Src/main.c    **** 		{
 113:Src/main.c    **** 			HAL_UART_Transmit(&huart1, "GREEN AIR\r\n\n", 12U, HAL_MAX_DELAY);
 114:Src/main.c    **** 		}
 115:Src/main.c    **** 		else
 116:Src/main.c    **** 			if ((CO2_measurement_st.measured_value_u16 >= GOOD_AIR_LEVEL_MIN) && (CO2_measurement_st.measure
 117:Src/main.c    **** 			{
 118:Src/main.c    **** 				HAL_UART_Transmit(&huart1,"GOOD AIR\r\n\n", 11U, HAL_MAX_DELAY);
 119:Src/main.c    **** 			}
 120:Src/main.c    **** 			else
 121:Src/main.c    **** 				if ((CO2_measurement_st.measured_value_u16 >= BAD_AIR_LEVEL_MIN) && (CO2_measurement_st.measure
 122:Src/main.c    **** 				{
 123:Src/main.c    **** 					HAL_UART_Transmit(&huart1,"BAD AIR\r\n\n", 10U, HAL_MAX_DELAY);
 124:Src/main.c    **** 				}
 125:Src/main.c    **** 				else
 126:Src/main.c    **** 					if  (CO2_measurement_st.measured_value_u16 <= WORST_AIR_LEVEL_MAX)
 127:Src/main.c    **** 					{
 128:Src/main.c    **** 						HAL_UART_Transmit(&huart1,"VERY BAD AIR! GO OUT!\r\n\n", 24U, HAL_MAX_DELAY);
 129:Src/main.c    **** 					}*/
 130:Src/main.c    **** 
 131:Src/main.c    **** }
 132:Src/main.c    **** 
 133:Src/main.c    **** void Task4(void)
 134:Src/main.c    **** {
  28              		.loc 1 134 0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
 135:Src/main.c    **** }
  33              		.loc 1 135 0
  34 0000 7047     		bx	lr
  35              		.cfi_endproc
  36              	.LFE129:
  38              		.section	.text.Task3,"ax",%progbits
ARM GAS  C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s 			page 4


  39              		.align	1
  40              		.global	Task3
  41              		.syntax unified
  42              		.thumb
  43              		.thumb_func
  44              		.fpu fpv4-sp-d16
  46              	Task3:
  47              	.LFB128:
  72:Src/main.c    **** 	u8 uart_buffer_u8[10];
  48              		.loc 1 72 0
  49              		.cfi_startproc
  50              		@ args = 0, pretend = 0, frame = 16
  51              		@ frame_needed = 0, uses_anonymous_args = 0
  52 0000 70B5     		push	{r4, r5, r6, lr}
  53              	.LCFI0:
  54              		.cfi_def_cfa_offset 16
  55              		.cfi_offset 4, -16
  56              		.cfi_offset 5, -12
  57              		.cfi_offset 6, -8
  58              		.cfi_offset 14, -4
  59 0002 84B0     		sub	sp, sp, #16
  60              	.LCFI1:
  61              		.cfi_def_cfa_offset 32
  62              	.LVL0:
  75:Src/main.c    **** 	{
  63              		.loc 1 75 0
  64 0004 3F4B     		ldr	r3, .L10
  65 0006 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  66 0008 43BB     		cbnz	r3, .L3
  77:Src/main.c    **** 	}
  67              		.loc 1 77 0
  68 000a 3F4A     		ldr	r2, .L10+4
  69 000c 1368     		ldr	r3, [r2]
  70 000e 3F49     		ldr	r1, .L10+8
  71 0010 A1FB0313 		umull	r1, r3, r1, r3
  72 0014 1B09     		lsrs	r3, r3, #4
  73 0016 1360     		str	r3, [r2]
  74              	.L4:
  84:Src/main.c    ****     ++CO2_measurement_st.measurmenet_counter_u16;
  75              		.loc 1 84 0
  76 0018 3B49     		ldr	r1, .L10+4
  77 001a 0B68     		ldr	r3, [r1]
  78 001c 03EBC303 		add	r3, r3, r3, lsl #3
  79 0020 03EBC303 		add	r3, r3, r3, lsl #3
  80 0024 3A4A     		ldr	r2, .L10+12
  81 0026 A2FB0323 		umull	r2, r3, r2, r3
  82 002a C3F34F13 		ubfx	r3, r3, #5, #16
  83 002e 394A     		ldr	r2, .L10+16
  84 0030 1380     		strh	r3, [r2]	@ movhi
  85:Src/main.c    ****     calc_adc_val_u32 = 0U;
  85              		.loc 1 85 0
  86 0032 5388     		ldrh	r3, [r2, #2]
  87 0034 0133     		adds	r3, r3, #1
  88 0036 9BB2     		uxth	r3, r3
  89 0038 5380     		strh	r3, [r2, #2]	@ movhi
  86:Src/main.c    **** 
  90              		.loc 1 86 0
ARM GAS  C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s 			page 5


  91 003a 0025     		movs	r5, #0
  92 003c 0D60     		str	r5, [r1]
  88:Src/main.c    **** 	sprintf(uart_buffer_u8,"%d", CO2_measurement_st.measured_value_u16);
  93              		.loc 1 88 0
  94 003e 0195     		str	r5, [sp, #4]
  95 0040 0295     		str	r5, [sp, #8]
  96 0042 ADF80C50 		strh	r5, [sp, #12]	@ movhi
  89:Src/main.c    **** 	HAL_UART_Transmit_IT(&huart1,"CO2 V value= ", 13U);
  97              		.loc 1 89 0
  98 0046 1288     		ldrh	r2, [r2]
  99 0048 3349     		ldr	r1, .L10+20
 100 004a 01A8     		add	r0, sp, #4
 101 004c FFF7FEFF 		bl	sprintf
 102              	.LVL1:
  90:Src/main.c    **** 	while(uart_buffer_u8[count])
 103              		.loc 1 90 0
 104 0050 0D22     		movs	r2, #13
 105 0052 3249     		ldr	r1, .L10+24
 106 0054 3248     		ldr	r0, .L10+28
 107 0056 FFF7FEFF 		bl	HAL_UART_Transmit_IT
 108              	.LVL2:
  91:Src/main.c    **** 		count++;
 109              		.loc 1 91 0
 110 005a 0CE0     		b	.L5
 111              	.L3:
  81:Src/main.c    **** 		data_request_u8 = STD_OFF;
 112              		.loc 1 81 0
 113 005c 2A4A     		ldr	r2, .L10+4
 114 005e 1368     		ldr	r3, [r2]
 115 0060 3049     		ldr	r1, .L10+32
 116 0062 0988     		ldrh	r1, [r1]
 117 0064 B3FBF1F3 		udiv	r3, r3, r1
 118 0068 1360     		str	r3, [r2]
  82:Src/main.c    **** 		}
 119              		.loc 1 82 0
 120 006a 264B     		ldr	r3, .L10
 121 006c 0022     		movs	r2, #0
 122 006e 1A70     		strb	r2, [r3]
 123 0070 D2E7     		b	.L4
 124              	.LVL3:
 125              	.L6:
  92:Src/main.c    **** 	HAL_Delay(DELAY_5_MS);
 126              		.loc 1 92 0
 127 0072 0135     		adds	r5, r5, #1
 128              	.LVL4:
 129 0074 EDB2     		uxtb	r5, r5
 130              	.LVL5:
 131              	.L5:
  91:Src/main.c    **** 		count++;
 132              		.loc 1 91 0
 133 0076 04AB     		add	r3, sp, #16
 134 0078 2B44     		add	r3, r3, r5
 135 007a 13F80C4C 		ldrb	r4, [r3, #-12]	@ zero_extendqisi2
 136 007e 002C     		cmp	r4, #0
 137 0080 F7D1     		bne	.L6
  93:Src/main.c    **** 	HAL_UART_Transmit_IT(&huart1,uart_buffer_u8,count);
 138              		.loc 1 93 0
ARM GAS  C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s 			page 6


 139 0082 0520     		movs	r0, #5
 140 0084 FFF7FEFF 		bl	HAL_Delay
 141              	.LVL6:
  94:Src/main.c    **** 	HAL_Delay(DELAY_1_MS);
 142              		.loc 1 94 0
 143 0088 254E     		ldr	r6, .L10+28
 144 008a 2A46     		mov	r2, r5
 145 008c 01A9     		add	r1, sp, #4
 146 008e 3046     		mov	r0, r6
 147 0090 FFF7FEFF 		bl	HAL_UART_Transmit_IT
 148              	.LVL7:
  95:Src/main.c    **** 	HAL_UART_Transmit_IT(&huart1,uart_new_line_u8, 2U);
 149              		.loc 1 95 0
 150 0094 0120     		movs	r0, #1
 151 0096 FFF7FEFF 		bl	HAL_Delay
 152              	.LVL8:
  96:Src/main.c    **** 
 153              		.loc 1 96 0
 154 009a 0222     		movs	r2, #2
 155 009c 2249     		ldr	r1, .L10+36
 156 009e 3046     		mov	r0, r6
 157 00a0 FFF7FEFF 		bl	HAL_UART_Transmit_IT
 158              	.LVL9:
  98:Src/main.c    **** 	sprintf(uart_buffer_u8,"%d", CO2_measurement_st.measurmenet_counter_u16);
 159              		.loc 1 98 0
 160 00a4 0023     		movs	r3, #0
 161 00a6 0193     		str	r3, [sp, #4]
 162 00a8 0293     		str	r3, [sp, #8]
 163 00aa ADF80C30 		strh	r3, [sp, #12]	@ movhi
  99:Src/main.c    **** 	HAL_Delay(DELAY_1_MS);
 164              		.loc 1 99 0
 165 00ae 194B     		ldr	r3, .L10+16
 166 00b0 5A88     		ldrh	r2, [r3, #2]
 167 00b2 1949     		ldr	r1, .L10+20
 168 00b4 01A8     		add	r0, sp, #4
 169 00b6 FFF7FEFF 		bl	sprintf
 170              	.LVL10:
 100:Src/main.c    **** 	HAL_UART_Transmit_IT(&huart1,"Counter= ", 9U);
 171              		.loc 1 100 0
 172 00ba 0120     		movs	r0, #1
 173 00bc FFF7FEFF 		bl	HAL_Delay
 174              	.LVL11:
 101:Src/main.c    **** 	count =0;
 175              		.loc 1 101 0
 176 00c0 0922     		movs	r2, #9
 177 00c2 1A49     		ldr	r1, .L10+40
 178 00c4 3046     		mov	r0, r6
 179 00c6 FFF7FEFF 		bl	HAL_UART_Transmit_IT
 180              	.LVL12:
 103:Src/main.c    **** 		count++;
 181              		.loc 1 103 0
 182 00ca 01E0     		b	.L7
 183              	.LVL13:
 184              	.L8:
 104:Src/main.c    **** 	HAL_Delay(DELAY_5_MS);
 185              		.loc 1 104 0
 186 00cc 0134     		adds	r4, r4, #1
ARM GAS  C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s 			page 7


 187              	.LVL14:
 188 00ce E4B2     		uxtb	r4, r4
 189              	.LVL15:
 190              	.L7:
 103:Src/main.c    **** 		count++;
 191              		.loc 1 103 0
 192 00d0 04AB     		add	r3, sp, #16
 193 00d2 2344     		add	r3, r3, r4
 194 00d4 13F80C3C 		ldrb	r3, [r3, #-12]	@ zero_extendqisi2
 195 00d8 002B     		cmp	r3, #0
 196 00da F7D1     		bne	.L8
 105:Src/main.c    **** 	HAL_UART_Transmit_IT(&huart1,uart_buffer_u8, count);
 197              		.loc 1 105 0
 198 00dc 0520     		movs	r0, #5
 199 00de FFF7FEFF 		bl	HAL_Delay
 200              	.LVL16:
 106:Src/main.c    **** 	HAL_Delay(DELAY_1_MS);
 201              		.loc 1 106 0
 202 00e2 0F4D     		ldr	r5, .L10+28
 203 00e4 2246     		mov	r2, r4
 204 00e6 01A9     		add	r1, sp, #4
 205 00e8 2846     		mov	r0, r5
 206 00ea FFF7FEFF 		bl	HAL_UART_Transmit_IT
 207              	.LVL17:
 107:Src/main.c    **** 	HAL_UART_Transmit_IT(&huart1,uart_new_line_u8, 2U);
 208              		.loc 1 107 0
 209 00ee 0120     		movs	r0, #1
 210 00f0 FFF7FEFF 		bl	HAL_Delay
 211              	.LVL18:
 108:Src/main.c    **** 
 212              		.loc 1 108 0
 213 00f4 0222     		movs	r2, #2
 214 00f6 0C49     		ldr	r1, .L10+36
 215 00f8 2846     		mov	r0, r5
 216 00fa FFF7FEFF 		bl	HAL_UART_Transmit_IT
 217              	.LVL19:
 131:Src/main.c    **** 
 218              		.loc 1 131 0
 219 00fe 04B0     		add	sp, sp, #16
 220              	.LCFI2:
 221              		.cfi_def_cfa_offset 16
 222              		@ sp needed
 223 0100 70BD     		pop	{r4, r5, r6, pc}
 224              	.LVL20:
 225              	.L11:
 226 0102 00BF     		.align	2
 227              	.L10:
 228 0104 00000000 		.word	data_request_u8
 229 0108 00000000 		.word	calc_adc_val_u32
 230 010c 89888888 		.word	-2004318071
 231 0110 1F85EB51 		.word	1374389535
 232 0114 00000000 		.word	CO2_measurement_st
 233 0118 00000000 		.word	.LC0
 234 011c 04000000 		.word	.LC1
 235 0120 00000000 		.word	huart1
 236 0124 00000000 		.word	.LANCHOR0
 237 0128 00000000 		.word	.LANCHOR1
ARM GAS  C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s 			page 8


 238 012c 14000000 		.word	.LC2
 239              		.cfi_endproc
 240              	.LFE128:
 242              		.section	.text.SetTaskPending,"ax",%progbits
 243              		.align	1
 244              		.global	SetTaskPending
 245              		.syntax unified
 246              		.thumb
 247              		.thumb_func
 248              		.fpu fpv4-sp-d16
 250              	SetTaskPending:
 251              	.LFB130:
 136:Src/main.c    **** 
 137:Src/main.c    **** void (*TaskList[MAX_TASK])(void)={
 138:Src/main.c    **** 		//			Task function	Task id		Task prio
 139:Src/main.c    **** 		Task1,
 140:Src/main.c    **** 		Task2,
 141:Src/main.c    **** 		Task3,
 142:Src/main.c    **** 		Task4,
 143:Src/main.c    **** 
 144:Src/main.c    **** };
 145:Src/main.c    **** 
 146:Src/main.c    **** void SetTaskPending (_E_Task_Name TaskNr)
 147:Src/main.c    **** {
 252              		.loc 1 147 0
 253              		.cfi_startproc
 254              		@ args = 0, pretend = 0, frame = 0
 255              		@ frame_needed = 0, uses_anonymous_args = 0
 256              		@ link register save eliminated.
 257              	.LVL21:
 148:Src/main.c    ****     if(TaskNr < MAX_TASK)
 258              		.loc 1 148 0
 259 0000 1028     		cmp	r0, #16
 260 0002 07D8     		bhi	.L12
 149:Src/main.c    ****     TaskParams_u16[TaskNr-1][TASK_PENDING]=1;
 261              		.loc 1 149 0
 262 0004 0138     		subs	r0, r0, #1
 263              	.LVL22:
 264 0006 00EB4000 		add	r0, r0, r0, lsl #1
 265 000a 8200     		lsls	r2, r0, #2
 266 000c 024B     		ldr	r3, .L14
 267 000e 1344     		add	r3, r3, r2
 268 0010 0122     		movs	r2, #1
 269 0012 1A81     		strh	r2, [r3, #8]	@ movhi
 270              	.L12:
 150:Src/main.c    **** }
 271              		.loc 1 150 0
 272 0014 7047     		bx	lr
 273              	.L15:
 274 0016 00BF     		.align	2
 275              	.L14:
 276 0018 00000000 		.word	.LANCHOR2
 277              		.cfi_endproc
 278              	.LFE130:
 280              		.section	.text.Task1,"ax",%progbits
 281              		.align	1
 282              		.global	Task1
ARM GAS  C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s 			page 9


 283              		.syntax unified
 284              		.thumb
 285              		.thumb_func
 286              		.fpu fpv4-sp-d16
 288              	Task1:
 289              	.LFB126:
  31:Src/main.c    **** 	u8 lenght_1_u8, lenght_2_u8;
 290              		.loc 1 31 0
 291              		.cfi_startproc
 292              		@ args = 0, pretend = 0, frame = 0
 293              		@ frame_needed = 0, uses_anonymous_args = 0
 294 0000 10B5     		push	{r4, lr}
 295              	.LCFI3:
 296              		.cfi_def_cfa_offset 8
 297              		.cfi_offset 4, -8
 298              		.cfi_offset 14, -4
  33:Src/main.c    **** 	HAL_UART_Receive_IT(&huart1, rx_buffer_u8, 16U);
 299              		.loc 1 33 0
 300 0002 0520     		movs	r0, #5
 301 0004 FFF7FEFF 		bl	HAL_Delay
 302              	.LVL23:
  34:Src/main.c    **** 
 303              		.loc 1 34 0
 304 0008 1E4C     		ldr	r4, .L21
 305 000a 1022     		movs	r2, #16
 306 000c 2146     		mov	r1, r4
 307 000e 1E48     		ldr	r0, .L21+4
 308 0010 FFF7FEFF 		bl	HAL_UART_Receive_IT
 309              	.LVL24:
  36:Src/main.c    **** 		{
 310              		.loc 1 36 0
 311 0014 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 312 0016 DBB2     		uxtb	r3, r3
 313 0018 472B     		cmp	r3, #71
 314 001a 00D0     		beq	.L20
 315              	.L16:
  59:Src/main.c    **** void Task2(void){
 316              		.loc 1 59 0
 317 001c 10BD     		pop	{r4, pc}
 318              	.L20:
  36:Src/main.c    **** 		{
 319              		.loc 1 36 0 discriminator 1
 320 001e 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 321 0020 DBB2     		uxtb	r3, r3
 322 0022 542B     		cmp	r3, #84
 323 0024 FAD1     		bne	.L16
  38:Src/main.c    **** 		 lenght_2_u8 = rx_buffer_u8[3] - '0';
 324              		.loc 1 38 0
 325 0026 A378     		ldrb	r3, [r4, #2]	@ zero_extendqisi2
 326 0028 303B     		subs	r3, r3, #48
 327              	.LVL25:
  39:Src/main.c    **** 		 	 if (0U != lenght_1_u8)
 328              		.loc 1 39 0
 329 002a E278     		ldrb	r2, [r4, #3]	@ zero_extendqisi2
 330 002c 303A     		subs	r2, r2, #48
 331 002e D2B2     		uxtb	r2, r2
 332              	.LVL26:
ARM GAS  C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s 			page 10


  40:Src/main.c    **** 			 {
 333              		.loc 1 40 0
 334 0030 13F0FF03 		ands	r3, r3, #255
 335              	.LVL27:
 336 0034 11D0     		beq	.L18
  42:Src/main.c    **** 				{
 337              		.loc 1 42 0
 338 0036 E35C     		ldrb	r3, [r4, r3]	@ zero_extendqisi2
 339 0038 DBB2     		uxtb	r3, r3
 340 003a 412B     		cmp	r3, #65
 341 003c EED1     		bne	.L16
  42:Src/main.c    **** 				{
 342              		.loc 1 42 0 is_stmt 0 discriminator 1
 343 003e A35C     		ldrb	r3, [r4, r2]	@ zero_extendqisi2
 344 0040 DBB2     		uxtb	r3, r3
 345 0042 4B2B     		cmp	r3, #75
 346 0044 EAD1     		bne	.L16
 347              	.LBB2:
  44:Src/main.c    **** 					memset(rx_buffer_u8, 0, 8U);
 348              		.loc 1 44 0 is_stmt 1
 349 0046 114B     		ldr	r3, .L21+8
 350 0048 0122     		movs	r2, #1
 351              	.LVL28:
 352 004a 1A70     		strb	r2, [r3]
  45:Src/main.c    **** 					SetTaskPending(Task_2);
 353              		.loc 1 45 0
 354 004c 0022     		movs	r2, #0
 355 004e 2260     		str	r2, [r4]	@ unaligned
 356 0050 6260     		str	r2, [r4, #4]	@ unaligned
  46:Src/main.c    **** 				}
 357              		.loc 1 46 0
 358 0052 0220     		movs	r0, #2
 359 0054 FFF7FEFF 		bl	SetTaskPending
 360              	.LVL29:
 361 0058 E0E7     		b	.L16
 362              	.LVL30:
 363              	.L18:
 364              	.LBE2:
  51:Src/main.c    **** 				{
 365              		.loc 1 51 0
 366 005a 931E     		subs	r3, r2, #2
 367 005c 0949     		ldr	r1, .L21
 368 005e CB5C     		ldrb	r3, [r1, r3]	@ zero_extendqisi2
 369 0060 DBB2     		uxtb	r3, r3
 370 0062 412B     		cmp	r3, #65
 371 0064 DAD1     		bne	.L16
  51:Src/main.c    **** 				{
 372              		.loc 1 51 0 is_stmt 0 discriminator 1
 373 0066 013A     		subs	r2, r2, #1
 374              	.LVL31:
 375 0068 8B5C     		ldrb	r3, [r1, r2]	@ zero_extendqisi2
 376 006a DBB2     		uxtb	r3, r3
 377 006c 4B2B     		cmp	r3, #75
 378 006e D5D1     		bne	.L16
 379              	.LBB3:
  53:Src/main.c    **** 					memset(rx_buffer_u8, 0, 8U);
 380              		.loc 1 53 0 is_stmt 1
ARM GAS  C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s 			page 11


 381 0070 064B     		ldr	r3, .L21+8
 382 0072 0122     		movs	r2, #1
 383              	.LVL32:
 384 0074 1A70     		strb	r2, [r3]
  54:Src/main.c    **** 					SetTaskPending(Task_2);
 385              		.loc 1 54 0
 386 0076 0022     		movs	r2, #0
 387 0078 0A60     		str	r2, [r1]	@ unaligned
 388 007a 4A60     		str	r2, [r1, #4]	@ unaligned
  55:Src/main.c    **** 				}
 389              		.loc 1 55 0
 390 007c 0220     		movs	r0, #2
 391 007e FFF7FEFF 		bl	SetTaskPending
 392              	.LVL33:
 393              	.LBE3:
  59:Src/main.c    **** void Task2(void){
 394              		.loc 1 59 0
 395 0082 CBE7     		b	.L16
 396              	.L22:
 397              		.align	2
 398              	.L21:
 399 0084 00000000 		.word	rx_buffer_u8
 400 0088 00000000 		.word	huart1
 401 008c 00000000 		.word	data_request_u8
 402              		.cfi_endproc
 403              	.LFE126:
 405              		.section	.text.Task2,"ax",%progbits
 406              		.align	1
 407              		.global	Task2
 408              		.syntax unified
 409              		.thumb
 410              		.thumb_func
 411              		.fpu fpv4-sp-d16
 413              	Task2:
 414              	.LFB127:
  60:Src/main.c    **** 	HAL_ADC_Start_IT(&hadc1);
 415              		.loc 1 60 0
 416              		.cfi_startproc
 417              		@ args = 0, pretend = 0, frame = 0
 418              		@ frame_needed = 0, uses_anonymous_args = 0
 419 0000 08B5     		push	{r3, lr}
 420              	.LCFI4:
 421              		.cfi_def_cfa_offset 8
 422              		.cfi_offset 3, -8
 423              		.cfi_offset 14, -4
  61:Src/main.c    **** 	HAL_Delay(DELAY_1_MS);
 424              		.loc 1 61 0
 425 0002 0C48     		ldr	r0, .L27
 426 0004 FFF7FEFF 		bl	HAL_ADC_Start_IT
 427              	.LVL34:
  62:Src/main.c    **** 	if ((co2_measurement_counter_u16 == NUMBER_OF_MEASUREMENTS) || (STD_ON == data_request_u8))
 428              		.loc 1 62 0
 429 0008 0120     		movs	r0, #1
 430 000a FFF7FEFF 		bl	HAL_Delay
 431              	.LVL35:
  63:Src/main.c    **** 	   {
 432              		.loc 1 63 0
ARM GAS  C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s 			page 12


 433 000e 0A4B     		ldr	r3, .L27+4
 434 0010 1B88     		ldrh	r3, [r3]
 435 0012 9BB2     		uxth	r3, r3
 436 0014 1E2B     		cmp	r3, #30
 437 0016 03D0     		beq	.L24
  63:Src/main.c    **** 	   {
 438              		.loc 1 63 0 is_stmt 0 discriminator 1
 439 0018 084B     		ldr	r3, .L27+8
 440 001a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 441 001c 012B     		cmp	r3, #1
 442 001e 08D1     		bne	.L23
 443              	.L24:
 444              	.LBB4:
  65:Src/main.c    **** 	      co2_measurement_counter_u16 = 0U;
 445              		.loc 1 65 0 is_stmt 1
 446 0020 054B     		ldr	r3, .L27+4
 447 0022 1988     		ldrh	r1, [r3]
 448 0024 064A     		ldr	r2, .L27+12
 449 0026 1180     		strh	r1, [r2]	@ movhi
  66:Src/main.c    **** 		  SetTaskPending(Task_3);
 450              		.loc 1 66 0
 451 0028 0022     		movs	r2, #0
 452 002a 1A80     		strh	r2, [r3]	@ movhi
  67:Src/main.c    **** 		}
 453              		.loc 1 67 0
 454 002c 0320     		movs	r0, #3
 455 002e FFF7FEFF 		bl	SetTaskPending
 456              	.LVL36:
 457              	.L23:
 458              	.LBE4:
  69:Src/main.c    **** 
 459              		.loc 1 69 0
 460 0032 08BD     		pop	{r3, pc}
 461              	.L28:
 462              		.align	2
 463              	.L27:
 464 0034 00000000 		.word	hadc1
 465 0038 00000000 		.word	co2_measurement_counter_u16
 466 003c 00000000 		.word	data_request_u8
 467 0040 00000000 		.word	.LANCHOR0
 468              		.cfi_endproc
 469              	.LFE127:
 471              		.section	.text.os_start,"ax",%progbits
 472              		.align	1
 473              		.global	os_start
 474              		.syntax unified
 475              		.thumb
 476              		.thumb_func
 477              		.fpu fpv4-sp-d16
 479              	os_start:
 480              	.LFB131:
 151:Src/main.c    **** 
 152:Src/main.c    **** 
 153:Src/main.c    **** u16 TaskParams_u16[MAX_TASK][MAX_TASK_PARAMS]={
 154:Src/main.c    **** 		           //Prio,		Periodic,	Period,		TicksToRun,	Pending, 	Running
 155:Src/main.c    **** 		/*1*/  		{0,			1,  		  10,	            0,			0,			0}, //UART data process by interrupt
 156:Src/main.c    **** 		/*2*/		{0,			1,			  TASK_TIME(10),	0,			0,			0}, //ADC read
ARM GAS  C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s 			page 13


 157:Src/main.c    **** 		/*3*/		{0,			0,			  0,	   			0,			0,			0}, //Average & send data to UART
 158:Src/main.c    **** 		/*4*/		{0,			0,			  0,	   	  		0,			0,			0}, //
 159:Src/main.c    **** };
 160:Src/main.c    **** 
 161:Src/main.c    **** //=================================The schedular for the 17 task's==========================//
 162:Src/main.c    **** void os_start( void )
 163:Src/main.c    **** {
 481              		.loc 1 163 0
 482              		.cfi_startproc
 483              		@ args = 0, pretend = 0, frame = 0
 484              		@ frame_needed = 0, uses_anonymous_args = 0
 485 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 486              	.LCFI5:
 487              		.cfi_def_cfa_offset 32
 488              		.cfi_offset 3, -32
 489              		.cfi_offset 4, -28
 490              		.cfi_offset 5, -24
 491              		.cfi_offset 6, -20
 492              		.cfi_offset 7, -16
 493              		.cfi_offset 8, -12
 494              		.cfi_offset 9, -8
 495              		.cfi_offset 14, -4
 496              	.L38:
 497              	.LVL37:
 164:Src/main.c    **** 	uint8_t     TaskCounter, PrioCounter;
 165:Src/main.c    **** 	while (1)
 166:Src/main.c    ****   {
 167:Src/main.c    **** 		//HAL_UART_Receive_IT(&huart1, rx_buffer_u8, 16U);
 168:Src/main.c    **** 		//==================================Update Task list==============================//
 169:Src/main.c    **** 		for(TaskCounter=0; TaskCounter<MAX_TASK; TaskCounter++)
 498              		.loc 1 169 0
 499 0004 0023     		movs	r3, #0
 500 0006 09E0     		b	.L30
 501              	.LVL38:
 502              	.L32:
 170:Src/main.c    **** 		{
 171:Src/main.c    **** 			if(TaskParams_u16[TaskCounter][TASK_PERIODIC])
 172:Src/main.c    **** 			{
 173:Src/main.c    **** 				if(TaskParams_u16[TaskCounter][TASK_PERIOD] && TaskParams_u16[TaskCounter][TASK_TTR])
 174:Src/main.c    **** 				{
 175:Src/main.c    **** 					--TaskParams_u16[TaskCounter][TASK_TTR];
 176:Src/main.c    **** 				}
 177:Src/main.c    **** 				else
 178:Src/main.c    **** 				{
 179:Src/main.c    **** 					TaskParams_u16[TaskCounter][TASK_TTR] = TaskParams_u16[TaskCounter][TASK_PERIOD];
 503              		.loc 1 179 0
 504 0008 2B48     		ldr	r0, .L43
 505 000a 4A00     		lsls	r2, r1, #1
 506 000c 5618     		adds	r6, r2, r1
 507 000e B400     		lsls	r4, r6, #2
 508 0010 0444     		add	r4, r4, r0
 509 0012 E580     		strh	r5, [r4, #6]	@ movhi
 180:Src/main.c    **** 					TaskParams_u16[TaskCounter][TASK_PENDING] = 1;
 510              		.loc 1 180 0
 511 0014 0122     		movs	r2, #1
 512 0016 2281     		strh	r2, [r4, #8]	@ movhi
 513              	.L31:
ARM GAS  C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s 			page 14


 169:Src/main.c    **** 		{
 514              		.loc 1 169 0 discriminator 2
 515 0018 0133     		adds	r3, r3, #1
 516              	.LVL39:
 517 001a DBB2     		uxtb	r3, r3
 518              	.LVL40:
 519              	.L30:
 169:Src/main.c    **** 		{
 520              		.loc 1 169 0 is_stmt 0 discriminator 1
 521 001c 102B     		cmp	r3, #16
 522 001e 17D8     		bhi	.L41
 171:Src/main.c    **** 			{
 523              		.loc 1 171 0 is_stmt 1
 524 0020 1946     		mov	r1, r3
 525 0022 03EB4302 		add	r2, r3, r3, lsl #1
 526 0026 9000     		lsls	r0, r2, #2
 527 0028 234A     		ldr	r2, .L43
 528 002a 0244     		add	r2, r2, r0
 529 002c 5288     		ldrh	r2, [r2, #2]
 530 002e 002A     		cmp	r2, #0
 531 0030 F2D0     		beq	.L31
 173:Src/main.c    **** 				{
 532              		.loc 1 173 0
 533 0032 214A     		ldr	r2, .L43
 534 0034 0244     		add	r2, r2, r0
 535 0036 9588     		ldrh	r5, [r2, #4]
 536 0038 002D     		cmp	r5, #0
 537 003a E5D0     		beq	.L32
 173:Src/main.c    **** 				{
 538              		.loc 1 173 0 is_stmt 0 discriminator 1
 539 003c 1E4A     		ldr	r2, .L43
 540 003e 0244     		add	r2, r2, r0
 541 0040 D288     		ldrh	r2, [r2, #6]
 542 0042 002A     		cmp	r2, #0
 543 0044 E0D0     		beq	.L32
 175:Src/main.c    **** 				}
 544              		.loc 1 175 0 is_stmt 1
 545 0046 1C49     		ldr	r1, .L43
 546 0048 0144     		add	r1, r1, r0
 547 004a 013A     		subs	r2, r2, #1
 548 004c CA80     		strh	r2, [r1, #6]	@ movhi
 549 004e E3E7     		b	.L31
 550              	.L41:
 181:Src/main.c    **** 				}
 182:Src/main.c    **** 			}
 183:Src/main.c    **** 		}
 184:Src/main.c    **** 		//=========================================================================//
 185:Src/main.c    **** 
 186:Src/main.c    **** 		//====================================Tasker=================================//
 187:Src/main.c    **** 		PrioCounter = 0;
 188:Src/main.c    **** 		TaskCounter = 0;
 189:Src/main.c    **** 		for(PrioCounter=0; PrioCounter<MAX_TASK_PRIO; PrioCounter++)
 551              		.loc 1 189 0
 552 0050 0026     		movs	r6, #0
 553 0052 2CE0     		b	.L34
 554              	.LVL41:
 555              	.L35:
ARM GAS  C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s 			page 15


 190:Src/main.c    **** 		{
 191:Src/main.c    **** 			for(TaskCounter=0; TaskCounter<MAX_TASK; TaskCounter++)
 556              		.loc 1 191 0 discriminator 2
 557 0054 0134     		adds	r4, r4, #1
 558              	.LVL42:
 559 0056 E4B2     		uxtb	r4, r4
 560              	.LVL43:
 561              	.L37:
 562              		.loc 1 191 0 is_stmt 0 discriminator 1
 563 0058 102C     		cmp	r4, #16
 564 005a 26D8     		bhi	.L42
 192:Src/main.c    **** 			{
 193:Src/main.c    **** 				if(TaskParams_u16[TaskCounter][TASK_PRIO]==PrioCounter && TaskParams_u16[TaskCounter][TASK_PEND
 565              		.loc 1 193 0 is_stmt 1
 566 005c 2546     		mov	r5, r4
 567 005e 04EB4402 		add	r2, r4, r4, lsl #1
 568 0062 9300     		lsls	r3, r2, #2
 569 0064 144A     		ldr	r2, .L43
 570 0066 D25A     		ldrh	r2, [r2, r3]
 571 0068 B3B2     		uxth	r3, r6
 572 006a 9A42     		cmp	r2, r3
 573 006c F2D1     		bne	.L35
 574              		.loc 1 193 0 is_stmt 0 discriminator 1
 575 006e 04EB4403 		add	r3, r4, r4, lsl #1
 576 0072 9A00     		lsls	r2, r3, #2
 577 0074 104B     		ldr	r3, .L43
 578 0076 1344     		add	r3, r3, r2
 579 0078 1B89     		ldrh	r3, [r3, #8]
 580 007a 002B     		cmp	r3, #0
 581 007c EAD0     		beq	.L35
 194:Src/main.c    **** 				{
 195:Src/main.c    **** 					TaskParams_u16[TaskCounter][TASK_PENDING]=0;
 582              		.loc 1 195 0 is_stmt 1
 583 007e DFF83880 		ldr	r8, .L43
 584 0082 6700     		lsls	r7, r4, #1
 585 0084 3A19     		adds	r2, r7, r4
 586 0086 9300     		lsls	r3, r2, #2
 587 0088 4344     		add	r3, r3, r8
 588 008a 4FF00009 		mov	r9, #0
 589 008e A3F80890 		strh	r9, [r3, #8]	@ movhi
 196:Src/main.c    **** 					TaskParams_u16[TaskCounter][TASK_RUNNING]=1;
 590              		.loc 1 196 0
 591 0092 0122     		movs	r2, #1
 592 0094 5A81     		strh	r2, [r3, #10]	@ movhi
 197:Src/main.c    **** 					(*TaskList[TaskCounter])();
 593              		.loc 1 197 0
 594 0096 094B     		ldr	r3, .L43+4
 595 0098 53F82430 		ldr	r3, [r3, r4, lsl #2]
 596 009c 9847     		blx	r3
 597              	.LVL44:
 198:Src/main.c    **** 					TaskParams_u16[TaskCounter][TASK_RUNNING]=0;
 598              		.loc 1 198 0
 599 009e 3D44     		add	r5, r5, r7
 600 00a0 AB00     		lsls	r3, r5, #2
 601 00a2 9844     		add	r8, r8, r3
 602 00a4 A8F80A90 		strh	r9, [r8, #10]	@ movhi
 603 00a8 D4E7     		b	.L35
ARM GAS  C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s 			page 16


 604              	.L42:
 189:Src/main.c    **** 		{
 605              		.loc 1 189 0 discriminator 2
 606 00aa 0136     		adds	r6, r6, #1
 607              	.LVL45:
 608 00ac F6B2     		uxtb	r6, r6
 609              	.LVL46:
 610              	.L34:
 189:Src/main.c    **** 		{
 611              		.loc 1 189 0 is_stmt 0 discriminator 1
 612 00ae 012E     		cmp	r6, #1
 613 00b0 A8D8     		bhi	.L38
 191:Src/main.c    **** 			{
 614              		.loc 1 191 0 is_stmt 1
 615 00b2 0024     		movs	r4, #0
 616 00b4 D0E7     		b	.L37
 617              	.L44:
 618 00b6 00BF     		.align	2
 619              	.L43:
 620 00b8 00000000 		.word	.LANCHOR2
 621 00bc 00000000 		.word	.LANCHOR3
 622              		.cfi_endproc
 623              	.LFE131:
 625              		.section	.text.main,"ax",%progbits
 626              		.align	1
 627              		.global	main
 628              		.syntax unified
 629              		.thumb
 630              		.thumb_func
 631              		.fpu fpv4-sp-d16
 633              	main:
 634              	.LFB132:
 199:Src/main.c    **** 				}
 200:Src/main.c    **** 			}
 201:Src/main.c    **** 		}
 202:Src/main.c    **** 	}
 203:Src/main.c    **** }
 204:Src/main.c    **** 
 205:Src/main.c    **** 
 206:Src/main.c    **** int main(void)
 207:Src/main.c    **** {
 635              		.loc 1 207 0
 636              		.cfi_startproc
 637              		@ Volatile: function does not return.
 638              		@ args = 0, pretend = 0, frame = 0
 639              		@ frame_needed = 0, uses_anonymous_args = 0
 640 0000 08B5     		push	{r3, lr}
 641              	.LCFI6:
 642              		.cfi_def_cfa_offset 8
 643              		.cfi_offset 3, -8
 644              		.cfi_offset 14, -4
 208:Src/main.c    **** 	HAL_Init();
 645              		.loc 1 208 0
 646 0002 FFF7FEFF 		bl	HAL_Init
 647              	.LVL47:
 209:Src/main.c    **** 	SystemClock_Config();
 648              		.loc 1 209 0
ARM GAS  C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s 			page 17


 649 0006 FFF7FEFF 		bl	SystemClock_Config
 650              	.LVL48:
 210:Src/main.c    **** 
 211:Src/main.c    **** 	CO2_measurement_st.measured_value_u16 = 0U;
 651              		.loc 1 211 0
 652 000a 0D4A     		ldr	r2, .L47
 653 000c 0023     		movs	r3, #0
 654 000e 1380     		strh	r3, [r2]	@ movhi
 212:Src/main.c    **** 	CO2_measurement_st.measurmenet_counter_u16 = 0U;
 655              		.loc 1 212 0
 656 0010 5380     		strh	r3, [r2, #2]	@ movhi
 213:Src/main.c    **** 	data_request_u8 = STD_OFF;
 657              		.loc 1 213 0
 658 0012 0C4A     		ldr	r2, .L47+4
 659 0014 1370     		strb	r3, [r2]
 214:Src/main.c    **** 	calc_adc_val_u32 = 0U;
 660              		.loc 1 214 0
 661 0016 0C4A     		ldr	r2, .L47+8
 662 0018 1360     		str	r3, [r2]
 215:Src/main.c    **** 	co2_measurement_counter_u16 = 0U;
 663              		.loc 1 215 0
 664 001a 0C4A     		ldr	r2, .L47+12
 665 001c 1380     		strh	r3, [r2]	@ movhi
 216:Src/main.c    **** 
 217:Src/main.c    **** 	MX_NVIC_Init();
 666              		.loc 1 217 0
 667 001e FFF7FEFF 		bl	MX_NVIC_Init
 668              	.LVL49:
 218:Src/main.c    **** 
 219:Src/main.c    **** #if (STD_ON == GPIO_ON)
 220:Src/main.c    **** 	MX_GPIO_Init();
 669              		.loc 1 220 0
 670 0022 FFF7FEFF 		bl	MX_GPIO_Init
 671              	.LVL50:
 221:Src/main.c    **** #endif
 222:Src/main.c    **** 
 223:Src/main.c    **** #if (STD_ON == ADC_1)
 224:Src/main.c    **** 	MX_ADC1_Init();
 672              		.loc 1 224 0
 673 0026 FFF7FEFF 		bl	MX_ADC1_Init
 674              	.LVL51:
 225:Src/main.c    **** #endif
 226:Src/main.c    **** 
 227:Src/main.c    **** #if (STD_ON == I2C_1)
 228:Src/main.c    **** 	MX_I2C1_Init();
 675              		.loc 1 228 0
 676 002a FFF7FEFF 		bl	MX_I2C1_Init
 677              	.LVL52:
 229:Src/main.c    **** #endif
 230:Src/main.c    **** 
 231:Src/main.c    **** #if (STD_ON == UART_2)
 232:Src/main.c    **** 	MX_USART2_UART_Init();
 678              		.loc 1 232 0
 679 002e FFF7FEFF 		bl	MX_USART2_UART_Init
 680              	.LVL53:
 233:Src/main.c    **** #endif
 234:Src/main.c    **** 
ARM GAS  C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s 			page 18


 235:Src/main.c    **** #if (STD_ON == UART_1)
 236:Src/main.c    **** 	MX_USART1_UART_Init();
 681              		.loc 1 236 0
 682 0032 FFF7FEFF 		bl	MX_USART1_UART_Init
 683              	.LVL54:
 237:Src/main.c    **** 	Board_init();
 684              		.loc 1 237 0
 685 0036 FFF7FEFF 		bl	Board_init
 686              	.LVL55:
 238:Src/main.c    **** #endif
 239:Src/main.c    **** 
 240:Src/main.c    **** 	os_start();
 687              		.loc 1 240 0
 688 003a FFF7FEFF 		bl	os_start
 689              	.LVL56:
 690              	.L48:
 691 003e 00BF     		.align	2
 692              	.L47:
 693 0040 00000000 		.word	CO2_measurement_st
 694 0044 00000000 		.word	data_request_u8
 695 0048 00000000 		.word	calc_adc_val_u32
 696 004c 00000000 		.word	co2_measurement_counter_u16
 697              		.cfi_endproc
 698              	.LFE132:
 700              		.section	.text._Error_Handler,"ax",%progbits
 701              		.align	1
 702              		.global	_Error_Handler
 703              		.syntax unified
 704              		.thumb
 705              		.thumb_func
 706              		.fpu fpv4-sp-d16
 708              	_Error_Handler:
 709              	.LFB133:
 241:Src/main.c    **** 
 242:Src/main.c    **** }
 243:Src/main.c    **** 
 244:Src/main.c    **** void _Error_Handler(char *file, int line)
 245:Src/main.c    **** {
 710              		.loc 1 245 0
 711              		.cfi_startproc
 712              		@ Volatile: function does not return.
 713              		@ args = 0, pretend = 0, frame = 0
 714              		@ frame_needed = 0, uses_anonymous_args = 0
 715              		@ link register save eliminated.
 716              	.LVL57:
 717              	.L50:
 718 0000 FEE7     		b	.L50
 719              		.cfi_endproc
 720              	.LFE133:
 722              		.global	TaskList
 723              		.global	uart_new_line_u8
 724              		.global	count_of_complete_measurements_u16
 725              		.comm	CO2_measurement_st,4,4
 726              		.comm	huart2,64,4
 727              		.comm	huart1,64,4
 728              		.comm	hi2c1,84,4
 729              		.comm	hadc1,72,4
ARM GAS  C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s 			page 19


 730              		.global	TaskParams_u16
 731              		.comm	data_request_u8,1,1
 732              		.comm	co2_measurement_counter_u16,2,2
 733              		.comm	calc_adc_val_u32,4,4
 734              		.comm	tx_buffer_u8,8,4
 735              		.comm	rx_buffer_u8,16,4
 736              		.section	.bss.count_of_complete_measurements_u16,"aw",%nobits
 737              		.align	1
 738              		.set	.LANCHOR0,. + 0
 741              	count_of_complete_measurements_u16:
 742 0000 0000     		.space	2
 743              		.section	.data.TaskList,"aw",%progbits
 744              		.align	2
 745              		.set	.LANCHOR3,. + 0
 748              	TaskList:
 749 0000 00000000 		.word	Task1
 750 0004 00000000 		.word	Task2
 751 0008 00000000 		.word	Task3
 752 000c 00000000 		.word	Task4
 753 0010 00000000 		.space	52
 753      00000000 
 753      00000000 
 753      00000000 
 753      00000000 
 754              		.section	.data.TaskParams_u16,"aw",%progbits
 755              		.align	2
 756              		.set	.LANCHOR2,. + 0
 759              	TaskParams_u16:
 760 0000 0000     		.short	0
 761 0002 0100     		.short	1
 762 0004 0A00     		.short	10
 763 0006 0000     		.short	0
 764 0008 0000     		.short	0
 765 000a 0000     		.short	0
 766 000c 0000     		.short	0
 767 000e 0100     		.short	1
 768 0010 A000     		.short	160
 769 0012 0000     		.short	0
 770 0014 0000     		.short	0
 771 0016 0000     		.short	0
 772 0018 0000     		.short	0
 773 001a 0000     		.short	0
 774 001c 0000     		.short	0
 775 001e 0000     		.short	0
 776 0020 0000     		.short	0
 777 0022 0000     		.short	0
 778 0024 0000     		.short	0
 779 0026 0000     		.short	0
 780 0028 0000     		.short	0
 781 002a 0000     		.short	0
 782 002c 0000     		.short	0
 783 002e 0000     		.short	0
 784 0030 00000000 		.space	156
 784      00000000 
 784      00000000 
 784      00000000 
 784      00000000 
ARM GAS  C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s 			page 20


 785              		.section	.data.TimingDelay_u32,"aw",%progbits
 786              		.align	2
 789              	TimingDelay_u32:
 790 0000 01000000 		.word	1
 791              		.section	.data.uart_new_line_u8,"aw",%progbits
 792              		.align	2
 793              		.set	.LANCHOR1,. + 0
 796              	uart_new_line_u8:
 797 0000 0D0A     		.ascii	"\015\012"
 798              		.section	.rodata.Task3.str1.4,"aMS",%progbits,1
 799              		.align	2
 800              	.LC0:
 801 0000 256400   		.ascii	"%d\000"
 802 0003 00       		.space	1
 803              	.LC1:
 804 0004 434F3220 		.ascii	"CO2 V value= \000"
 804      56207661 
 804      6C75653D 
 804      2000
 805 0012 0000     		.space	2
 806              	.LC2:
 807 0014 436F756E 		.ascii	"Counter= \000"
 807      7465723D 
 807      2000
 808              		.text
 809              	.Letext0:
 810              		.file 2 "c:\\program files (x86)\\gnu tools arm embedded\\7 2018-q2-update\\arm-none-eabi\\include
 811              		.file 3 "c:\\program files (x86)\\gnu tools arm embedded\\7 2018-q2-update\\arm-none-eabi\\include
 812              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
 813              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 814              		.file 6 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f401xe.h"
 815              		.file 7 "c:\\program files (x86)\\gnu tools arm embedded\\7 2018-q2-update\\arm-none-eabi\\include
 816              		.file 8 "c:\\program files (x86)\\gnu tools arm embedded\\7 2018-q2-update\\arm-none-eabi\\include
 817              		.file 9 "c:\\program files (x86)\\gnu tools arm embedded\\7 2018-q2-update\\lib\\gcc\\arm-none-eab
 818              		.file 10 "c:\\program files (x86)\\gnu tools arm embedded\\7 2018-q2-update\\arm-none-eabi\\includ
 819              		.file 11 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 820              		.file 12 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 821              		.file 13 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_adc.h"
 822              		.file 14 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_i2c.h"
 823              		.file 15 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_uart.h"
 824              		.file 16 "Inc/generic.h"
 825              		.file 17 "Inc/init.h"
 826              		.file 18 "<built-in>"
 827              		.file 19 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 828              		.file 20 "c:\\program files (x86)\\gnu tools arm embedded\\7 2018-q2-update\\arm-none-eabi\\includ
ARM GAS  C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s 			page 21


DEFINED SYMBOLS
                            *ABS*:00000000 main.c
C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s:18     .text.Task4:00000000 $t
C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s:25     .text.Task4:00000000 Task4
C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s:39     .text.Task3:00000000 $t
C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s:46     .text.Task3:00000000 Task3
C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s:228    .text.Task3:00000104 $d
                            *COM*:00000001 data_request_u8
                            *COM*:00000004 calc_adc_val_u32
                            *COM*:00000004 CO2_measurement_st
                            *COM*:00000040 huart1
C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s:243    .text.SetTaskPending:00000000 $t
C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s:250    .text.SetTaskPending:00000000 SetTaskPending
C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s:276    .text.SetTaskPending:00000018 $d
C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s:281    .text.Task1:00000000 $t
C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s:288    .text.Task1:00000000 Task1
C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s:399    .text.Task1:00000084 $d
                            *COM*:00000010 rx_buffer_u8
C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s:406    .text.Task2:00000000 $t
C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s:413    .text.Task2:00000000 Task2
C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s:464    .text.Task2:00000034 $d
                            *COM*:00000048 hadc1
                            *COM*:00000002 co2_measurement_counter_u16
C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s:472    .text.os_start:00000000 $t
C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s:479    .text.os_start:00000000 os_start
C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s:620    .text.os_start:000000b8 $d
C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s:626    .text.main:00000000 $t
C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s:633    .text.main:00000000 main
C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s:693    .text.main:00000040 $d
C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s:701    .text._Error_Handler:00000000 $t
C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s:708    .text._Error_Handler:00000000 _Error_Handler
C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s:748    .data.TaskList:00000000 TaskList
C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s:796    .data.uart_new_line_u8:00000000 uart_new_line_u8
C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s:741    .bss.count_of_complete_measurements_u16:00000000 count_of_complete_measurements_u16
                            *COM*:00000040 huart2
                            *COM*:00000054 hi2c1
C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s:759    .data.TaskParams_u16:00000000 TaskParams_u16
                            *COM*:00000008 tx_buffer_u8
C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s:737    .bss.count_of_complete_measurements_u16:00000000 $d
C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s:744    .data.TaskList:00000000 $d
C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s:755    .data.TaskParams_u16:00000000 $d
C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s:786    .data.TimingDelay_u32:00000000 $d
C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s:789    .data.TimingDelay_u32:00000000 TimingDelay_u32
C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s:792    .data.uart_new_line_u8:00000000 $d
C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s:799    .rodata.Task3.str1.4:00000000 $d

UNDEFINED SYMBOLS
sprintf
HAL_UART_Transmit_IT
HAL_Delay
HAL_UART_Receive_IT
HAL_ADC_Start_IT
HAL_Init
SystemClock_Config
MX_NVIC_Init
MX_GPIO_Init
MX_ADC1_Init
ARM GAS  C:\Users\dragos.nicolae\AppData\Local\Temp\ccLri0mR.s 			page 22


MX_I2C1_Init
MX_USART2_UART_Init
MX_USART1_UART_Init
Board_init
